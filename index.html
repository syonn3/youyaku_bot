<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>要約Bot</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="styles.css" />
  <meta name="theme-color" content="#111111" />
</head>
<body>
  <header class="yb-header">
    <h1>要約Bot</h1>
  </header>

  <main class="yb-container" id="app">
    <!-- 入力切替タブ -->
    <nav class="yb-tabs" role="tablist" aria-label="入力方式">
      <button class="yb-tab is-active" data-tab="url" aria-selected="true">URL</button>
      <button class="yb-tab" data-tab="paste" aria-selected="false">ペースト</button>
      <button class="yb-tab" data-tab="pdf" aria-selected="false">PDF（近日公開）</button>
    </nav>

    <!-- URL入力 -->
    <section class="yb-panel" data-panel="url">
      <label class="yb-label">要約したいページのURL</label>
      <div class="yb-row">
        <input id="urlInput" class="yb-input" type="url" placeholder="https://example.com/article" inputmode="url" />
        <button id="fetchUrlBtn" class="yb-btn">取得→要約</button>
      </div>
      <p class="yb-note">※ まず直接取得を試行し、失敗時は自動でプロキシ経由に切替。</p>
    </section>

    <!-- ペースト入力 -->
    <section class="yb-panel is-hidden" data-panel="paste">
      <label class="yb-label">本文を貼り付け</label>
      <textarea id="pasteInput" class="yb-textarea" rows="10" placeholder="ここに本文を貼り付けてください"></textarea>
      <div class="yb-row">
        <button id="summarizePasteBtn" class="yb-btn">要約する</button>
      </div>
    </section>

    <!-- PDF（ダミー表示） -->
    <section class="yb-panel is-hidden" data-panel="pdf">
      <div class="yb-pdf-dummy">
        <div class="yb-pdf-badge">近日公開</div>
        <p>PDF要約は準備中です。URLまたはペーストをご利用ください。</p>
      </div>
    </section>

    <!-- オプション -->
    <section class="yb-options">
      <fieldset class="yb-fieldset">
        <legend>長さ</legend>
        <label><input type="radio" name="length" value="short" checked> 短（50–100）</label>
        <label><input type="radio" name="length" value="medium"> 中（200–400）</label>
        <label><input type="radio" name="length" value="long"> 長（600–800）</label>
        <label class="yb-inline">
          <input type="radio" name="length" value="custom"> 指定
          <input id="customLength" class="yb-input yb-inline-input" type="number" min="10" step="10" placeholder="文字数">
        </label>
      </fieldset>

      <fieldset class="yb-fieldset">
        <legend>スタイル</legend>
        <label><input type="radio" name="style" value="bullets"> 箇条書き</label>
        <label><input type="radio" name="style" value="friendly" checked> フレンドリー</label>
        <label><input type="radio" name="style" value="business"> ビジネス</label>
      </fieldset>
    </section>

    <!-- 出力 -->
    <section>
      <label class="yb-label">要約結果（日本語）</label>
      <textarea id="output" class="yb-textarea yb-output" rows="12" readonly placeholder="ここに要約が表示されます"></textarea>
      <div id="status" class="yb-status" aria-live="polite"></div>
    </section>
  </main>

  <!-- 親指リーチ：下部固定バー -->
  <div class="yb-actionbar">
    <button id="copyBtn" class="yb-btn yb-btn-plain">コピー</button>
    <button id="clearBtn" class="yb-btn yb-btn-danger">クリア</button>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
